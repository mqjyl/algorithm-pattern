# å‡½æ•°å¯¹è±¡

å‡½æ•°å¯¹è±¡ï¼šé‡è½½äº†è°ƒç”¨æ“ä½œç¬¦`()`çš„ç±»å¯¹è±¡ã€‚å½“ç”¨è¯¥ç±»å¯¹è±¡è°ƒç”¨æ­¤æ“ä½œç¬¦æ—¶ï¼Œå…¶è¡¨ç°å½¢å¼å¦‚åŒæ™®é€šå‡½æ•°è°ƒç”¨ä¸€èˆ¬ï¼Œå› æ­¤å–åå«å‡½æ•°å¯¹è±¡ã€‚å¦‚ï¼š

```cpp
class A
{
public:
    int operator() (int val)
    {
        return val > 0 ? val : -val;
    }
};

int main()
{
    A a;
    cout << a(-10);  // 10
    return 0;
}
```

## âœ **1ã€**ä¸åŒå‡½æ•°å¤ç”¨ç›¸åŒå¤„ç†ä»£ç 



## âœ 2ã€ä¼˜åŠ¿

### ğŸ–‹ 2.1ã€å‡½æ•°å¯¹è±¡å’Œæ™®é€šå‡½æ•°

ä¸æ™®é€šå‡½æ•°ç›¸æ¯”ï¼Œå‡½æ•°å¯¹è±¡æ¯”å‡½æ•°æ›´åŠ çµæ´»ï¼Œå‡½æ•°å¯¹è±¡æœ‰ä»¥ä¸‹çš„ä¼˜åŠ¿ï¼š

       1. å‡½æ•°å¯¹è±¡å¯ä»¥æœ‰è‡ªå·±çš„çŠ¶æ€ã€‚æˆ‘ä»¬å¯ä»¥åœ¨ç±»ä¸­å®šä¹‰çŠ¶æ€å˜é‡ï¼Œè¿™æ ·ä¸€ä¸ªå‡½æ•°å¯¹è±¡åœ¨å¤šæ¬¡çš„è°ƒç”¨ä¸­å¯ä»¥å…±äº«è¿™ä¸ªçŠ¶æ€ã€‚ä½†æ˜¯å‡½æ•°è°ƒç”¨æ²¡è¿™ç§ä¼˜åŠ¿ï¼Œé™¤éå®ƒä½¿ç”¨å…¨å±€å˜é‡æ¥ä¿å­˜çŠ¶æ€ã€‚

       2. å‡½æ•°å¯¹è±¡æœ‰è‡ªå·±ç‰¹æœ‰çš„ç±»å‹ï¼Œè€Œæ™®é€šå‡½æ•°æ— ç±»å‹å¯è¨€ã€‚è¿™ç§ç‰¹æ€§å¯¹äºä½¿ç”¨C++æ ‡å‡†åº“æ¥è¯´æ˜¯è‡³å…³é‡è¦çš„ã€‚è¿™æ ·æˆ‘ä»¬åœ¨ä½¿ç”¨`STL`ä¸­çš„å‡½æ•°æ—¶ï¼Œå¯ä»¥ä¼ é€’ç›¸åº”çš„ç±»å‹ä½œä¸ºå‚æ•°æ¥å®ä¾‹åŒ–ç›¸åº”çš„æ¨¡æ¿ï¼Œä»è€Œå®ç°æˆ‘ä»¬è‡ªå·±å®šä¹‰çš„è§„åˆ™ã€‚æ¯”å¦‚è‡ªå®šä¹‰å®¹å™¨çš„æ’åºè§„åˆ™ã€‚

### ğŸ–‹ 2.2ã€å‡½æ•°å¯¹è±¡ä¸å‡½æ•°æŒ‡é’ˆ

å°½ç®¡**å‡½æ•°æŒ‡é’ˆ**è¢«å¹¿æ³›ç”¨äºå®ç°å‡½æ•°å›è°ƒï¼Œä½†C++è¿˜æä¾›äº†ä¸€ä¸ªé‡è¦çš„å®ç°å›è°ƒå‡½æ•°çš„æ–¹æ³•ï¼Œé‚£å°±æ˜¯å‡½æ•°å¯¹è±¡ã€‚å‡½æ•°å¯¹è±¡ï¼ˆä¹Ÿç§°â€œå‡½æ•°ç¬¦â€ï¼‰æ˜¯é‡è½½äº†â€œ\(\)â€æ“ä½œç¬¦çš„æ™®é€šç±»çš„å¯¹è±¡ã€‚

ç”¨å‡½æ•°å¯¹è±¡ä»£æ›¿å‡½æ•°æŒ‡é’ˆæœ‰å‡ ä¸ªä¼˜ç‚¹ï¼š

* é¦–å…ˆï¼Œå› ä¸ºå¯¹è±¡å¯ä»¥åœ¨å†…éƒ¨ä¿®æ”¹è€Œä¸ç”¨æ”¹åŠ¨å¤–éƒ¨æ¥å£ï¼Œå› æ­¤**è®¾è®¡æ›´çµæ´»ï¼Œæ›´å¯Œæœ‰å¼¹æ€§**ã€‚å‡½æ•°å¯¹è±¡ä¹Ÿå…·å¤‡æœ‰å­˜å‚¨å…ˆå‰è°ƒç”¨ç»“æœçš„æ•°æ®æˆå‘˜ã€‚åœ¨ä½¿ç”¨æ™®é€šå‡½æ•°æ—¶éœ€è¦å°†å…ˆå‰è°ƒç”¨çš„ç»“æœå­˜å‚¨åœ¨å…¨ç¨‹æˆ–è€…æœ¬åœ°é™æ€å˜é‡ä¸­ï¼Œä½†æ˜¯å…¨ç¨‹æˆ–è€…æœ¬åœ°é™æ€å˜é‡æœ‰æŸäº›æˆ‘ä»¬ä¸æ„¿æ„çœ‹åˆ°çš„ç¼ºé™·ã€‚
* å…¶æ¬¡ï¼Œåœ¨**å‡½æ•°å¯¹è±¡ä¸­ç¼–è¯‘å™¨èƒ½å®ç°å†…è”è°ƒç”¨**ï¼Œä»è€Œæ›´è¿›ä¸€æ­¥å¢å¼ºäº†æ€§èƒ½ã€‚è¿™åœ¨å‡½æ•°æŒ‡é’ˆä¸­å‡ ä¹æ˜¯ä¸å¯èƒ½å®ç°çš„ã€‚
* C++11è¿˜æä¾›äº†**lambdaè¡¨è¾¾å¼**æ¥å®ç°å‡½æ•°çš„çµæ´»è°ƒç”¨ã€‚

## âœ 3ã€ä½¿ç”¨åœºæ™¯

### ğŸ–‹ 3.1ã€è‡ªå®šä¹‰æ’åºè§„åˆ™

std::sort\(\)å‡½æ•°çš„æ’åºè§„åˆ™å’Œ[å…³è”å¼å®¹å™¨çš„æ’åºè§„åˆ™](../stl-basics/set-map.md#zi-ding-yi-guan-lian-shi-rong-qi-de-pai-xu-gui-ze)éƒ½æ˜¯å¯ä»¥è‡ªå®šä¹‰çš„ï¼Œä¸€ç§æ–¹å¼å°±æ˜¯ä½¿ç”¨å‡½æ•°å¯¹è±¡ã€‚å¦‚ï¼š

```cpp
//ä»¥æ™®é€šå‡½æ•°çš„æ–¹å¼å®ç°è‡ªå®šä¹‰æ’åºè§„åˆ™
bool greater_comp(int i, int j) {
    return (i < j);
}
//ä»¥å‡½æ•°å¯¹è±¡çš„æ–¹å¼å®ç°è‡ªå®šä¹‰æ’åºè§„åˆ™
class Less {
public:
    bool operator() (int i, int j) {
        return (i > j);
    }
};

int main() {
    std::vector<int> data{ 32, 71, 12, 45, 26, 80, 53, 33 };
    //å¯¹ 32ã€71ã€12ã€45 è¿›è¡Œæ’åº
    std::sort(data.begin(), data.begin() + 4); //(12 32 45 71) 26 80 53 33
    for (std::vector<int>::iterator it = data.begin(); it != data.end(); ++it) {
        std::cout << *it << ' ';
    }
    std::cout << std::endl;

    //åˆ©ç”¨STLæ ‡å‡†åº“æä¾›çš„å…¶å®ƒæ¯”è¾ƒè§„åˆ™ï¼ˆæ¯”å¦‚ greater<T>ï¼‰è¿›è¡Œæ’åº
    std::sort(data.begin(), data.begin() + 4, std::greater<int>()); //(71 45 32 12) 26 80 53 33
    for (std::vector<int>::iterator it = data.begin(); it != data.end(); ++it) {
        std::cout << *it << ' ';
    }
    std::cout << std::endl;

    //é€šè¿‡è‡ªå®šä¹‰æ¯”è¾ƒè§„åˆ™è¿›è¡Œæ’åº
    std::sort(data.begin(), data.end(), greater_comp);//12 26 32 33 45 53 71 80
    for (std::vector<int>::iterator it = data.begin(); it != data.end(); ++it) {
        std::cout << *it << ' ';
    }
    std::cout << std::endl;

    //é€šè¿‡è‡ªå®šä¹‰æ¯”è¾ƒè§„åˆ™è¿›è¡Œæ’åº
    Less less;
    std::sort(data.begin(), data.end(), less);
    for (std::vector<int>::iterator it = data.begin(); it != data.end(); ++it) {
        std::cout << *it << ' ';
    }

    return 0;
}
// è¾“å‡º
12 32 45 71 26 80 53 33
71 45 32 12 26 80 53 33
12 26 32 33 45 53 71 80
80 71 53 45 33 32 26 12
```

### ğŸ–‹ 3.2ã€ **è°“è¯å‡½æ•°** 

## âœ **4ã€**å‡½æ•°åŒ…è£…å™¨

## âœ 5ã€ std::invoke

\*\*\*\*

